# Comprehensive language mapping for African languages supported by Facebook NLLB
# Includes ISO 639-1 (2-letter), ISO 639-2/3 (3-letter), and NLLB language codes
# Based on https://github.com/facebookresearch/flores/blob/main/flores200/README.md

LANGUAGE_MAPPING = {
    # Southern African languages
    "afr": {
        "iso2": "af",
        "iso3": "afr",
        "name": "Afrikaans",
        "nllb_code": "afr_Latn",
        "script": "Latn"
    },
    "zul": {
        "iso2": "zu",
        "iso3": "zul",
        "name": "Zulu",
        "nllb_code": "zul_Latn",
        "script": "Latn"
    },
    "xho": {
        "iso2": "xh",
        "iso3": "xho",
        "name": "Xhosa",
        "nllb_code": "xho_Latn",
        "script": "Latn"
    },
    "sot": {
        "iso2": "st",
        "iso3": "sot",
        "name": "Southern Sotho",
        "nllb_code": "sot_Latn",
        "script": "Latn"
    },
    "tsn": {
        "iso2": "tn",
        "iso3": "tsn",
        "name": "Tswana",
        "nllb_code": "tsn_Latn",
        "script": "Latn"
    },
    "ven": {
        "iso2": "ve",
        "iso3": "ven",
        "name": "Venda",
        "nllb_code": "ven_Latn",
        "script": "Latn"
    },
    "nso": {
        "iso2": "nso",
        "iso3": "nso",
        "name": "Northern Sotho",
        "nllb_code": "nso_Latn",
        "script": "Latn"
    },
    "tso": {
        "iso2": "ts",
        "iso3": "tso",
        "name": "Tsonga",
        "nllb_code": "tso_Latn",
        "script": "Latn"
    },
    "bem": {
        "iso2": "bem",
        "iso3": "bem",
        "name": "Bemba",
        "nllb_code": "bem_Latn",
        "script": "Latn"
    },
    "kua": {
        "iso2": "kj",
        "iso3": "kua",
        "name": "Kuanyama",
        "nllb_code": "kua_Latn",
        "script": "Latn"
    },
    "her": {
        "iso2": "hz",
        "iso3": "her",
        "name": "Herero",
        "nllb_code": "her_Latn",
        "script": "Latn"
    },
    "ndo": {
        "iso2": "ng",
        "iso3": "ndo",
        "name": "Ndonga",
        "nllb_code": "ndo_Latn",
        "script": "Latn"
    },
    "nya": {
        "iso2": "ny",
        "iso3": "nya",
        "name": "Chichewa",
        "nllb_code": "nya_Latn",
        "script": "Latn"
    },
    "toi": {
        "iso2": "toi",
        "iso3": "toi",
        "name": "Tonga",
        "nllb_code": "toi_Latn",
        "script": "Latn"
    },
    "ssw": {
        "iso2": "ss",
        "iso3": "ssw",
        "name": "Swati",
        "nllb_code": "ssw_Latn",
        "script": "Latn"
    },
    "tum": {
        "iso2": "tum",
        "iso3": "tum",
        "name": "Tumbuka",
        "nllb_code": "tum_Latn",
        "script": "Latn"
    },
    "umb": {
        "iso2": "umb",
        "iso3": "umb",
        "name": "Umbundu",
        "nllb_code": "umb_Latn",
        "script": "Latn"
    },
    "kmb": {
        "iso2": "kmb",
        "iso3": "kmb",
        "name": "Kimbundu",
        "nllb_code": "kmb_Latn",
        "script": "Latn"
    },
    "sna": {
        "iso2": "sn",
        "iso3": "sna",
        "name": "Shona",
        "nllb_code": "sna_Latn",
        "script": "Latn"
    },
    "lus": {
        "iso2": "lus",
        "iso3": "lus",
        "name": "Lushai",
        "nllb_code": "lus_Latn",
        "script": "Latn"
    },

    # West African languages
    "twi": {
        "iso2": "tw",
        "iso3": "twi",
        "name": "Twi",
        "nllb_code": "twi_Latn",
        "script": "Latn"
    },
    "yor": {
        "iso2": "yo",
        "iso3": "yor",
        "name": "Yoruba",
        "nllb_code": "yor_Latn",
        "script": "Latn"
    },
    "hau": {
        "iso2": "ha",
        "iso3": "hau",
        "name": "Hausa",
        "nllb_code": "hau_Latn",
        "script": "Latn"
    },
    "ibo": {
        "iso2": "ig",
        "iso3": "ibo",
        "name": "Igbo",
        "nllb_code": "ibo_Latn",
        "script": "Latn"
    },
    "ewe": {
        "iso2": "ee",
        "iso3": "ewe",
        "name": "Ewe",
        "nllb_code": "ewe_Latn",
        "script": "Latn"
    },
    "fon": {
        "iso2": "fon",
        "iso3": "fon",
        "name": "Fon",
        "nllb_code": "fon_Latn",
        "script": "Latn"
    },
    "ful": {
        "iso2": "ff",
        "iso3": "ful",
        "name": "Fulah",
        "nllb_code": "fuv_Latn",
        "script": "Latn"
    },
    "bam": {
        "iso2": "bm",
        "iso3": "bam",
        "name": "Bambara",
        "nllb_code": "bam_Latn",
        "script": "Latn"
    },
    "wol": {
        "iso2": "wo",
        "iso3": "wol",
        "name": "Wolof",
        "nllb_code": "wol_Latn",
        "script": "Latn"
    },
    "sus": {
        "iso2": "sus",
        "iso3": "sus",
        "name": "Susu",
        "nllb_code": "sus_Latn",
        "script": "Latn"
    },
    "men": {
        "iso2": "men",
        "iso3": "men",
        "name": "Mende",
        "nllb_code": "men_Latn",
        "script": "Latn"
    },
    "tem": {
        "iso2": "tem",
        "iso3": "tem",
        "name": "Temne",
        "nllb_code": "tem_Latn",
        "script": "Latn"
    },
    "kpe": {
        "iso2": "kpe",
        "iso3": "kpe",
        "name": "Kpelle",
        "nllb_code": "kpe_Latn",
        "script": "Latn"
    },
    "vai": {
        "iso2": "vai",
        "iso3": "vai",
        "name": "Vai",
        "nllb_code": "vai_Latn",
        "script": "Latn"
    },
    "dyu": {
        "iso2": "dyu",
        "iso3": "dyu",
        "name": "Dyula",
        "nllb_code": "dyu_Latn",
        "script": "Latn"
    },
    "mos": {
        "iso2": "mos",
        "iso3": "mos",
        "name": "Mossi",
        "nllb_code": "mos_Latn",
        "script": "Latn"
    },
    "aka": {
        "iso2": "ak",
        "iso3": "aka",
        "name": "Akan",
        "nllb_code": "aka_Latn",
        "script": "Latn"
    },
    "kbp": {
        "iso2": "kbp",
        "iso3": "kbp",
        "name": "Kabiy√®",
        "nllb_code": "kbp_Latn",
        "script": "Latn"
    },
    "kea": {
        "iso2": "kea",
        "iso3": "kea",
        "name": "Kabuverdianu",
        "nllb_code": "kea_Latn",
        "script": "Latn"
    },

    # East African languages
    "swa": {
        "iso2": "sw",
        "iso3": "swa",
        "name": "Swahili",
        "nllb_code": "swh_Latn",
        "script": "Latn"
    },
    "amh": {
        "iso2": "am",
        "iso3": "amh",
        "name": "Amharic",
        "nllb_code": "amh_Ethi",
        "script": "Ethi"
    },
    "orm": {
        "iso2": "om",
        "iso3": "orm",
        "name": "Oromo",
        "nllb_code": "gaz_Latn",
        "script": "Latn"
    },
    "som": {
        "iso2": "so",
        "iso3": "som",
        "name": "Somali",
        "nllb_code": "som_Latn",
        "script": "Latn"
    },
    "tir": {
        "iso2": "ti",
        "iso3": "tir",
        "name": "Tigrinya",
        "nllb_code": "tir_Ethi",
        "script": "Ethi"
    },
    "tig": {
        "iso2": "tig",
        "iso3": "tig",
        "name": "Tigre",
        "nllb_code": "tig_Latn",
        "script": "Latn"
    },
    "sid": {
        "iso2": "sid",
        "iso3": "sid",
        "name": "Sidamo",
        "nllb_code": "sid_Latn",
        "script": "Latn"
    },
    "gaz": {
        "iso2": "gaz",
        "iso3": "gaz",
        "name": "West Central Oromo",
        "nllb_code": "gaz_Latn",
        "script": "Latn"
    },
    "har": {
        "iso2": "har",
        "iso3": "har",
        "name": "Harari",
        "nllb_code": "har_Latn",
        "script": "Latn"
    },
    "lin": {
        "iso2": "ln",
        "iso3": "lin",
        "name": "Lingala",
        "nllb_code": "lin_Latn",
        "script": "Latn"
    },
    "lug": {
        "iso2": "lg",
        "iso3": "lug",
        "name": "Ganda",
        "nllb_code": "lug_Latn",
        "script": "Latn"
    },
    "kam": {
        "iso2": "kam",
        "iso3": "kam",
        "name": "Kamba",
        "nllb_code": "kam_Latn",
        "script": "Latn"
    },
    "kik": {
        "iso2": "kik",
        "iso3": "kik",
        "name": "Kikuyu",
        "nllb_code": "kik_Latn",
        "script": "Latn"
    },
    "dik": {
        "iso2": "dik",
        "iso3": "dik",
        "name": "Dinka",
        "nllb_code": "dik_Latn",
        "script": "Latn"
    },
    "nus": {
        "iso2": "nus",
        "iso3": "nus",
        "name": "Nuer",
        "nllb_code": "nus_Latn",
        "script": "Latn"
    },

    # Central African languages
    "kin": {
        "iso2": "rw",
        "iso3": "kin",
        "name": "Kinyarwanda",
        "nllb_code": "kin_Latn",
        "script": "Latn"
    },
    "run": {
        "iso2": "rn",
        "iso3": "run",
        "name": "Rundi",
        "nllb_code": "run_Latn",
        "script": "Latn"
    },
    "sag": {
        "iso2": "sg",
        "iso3": "sag",
        "name": "Sango",
        "nllb_code": "sag_Latn",
        "script": "Latn"
    },
    "kon": {
        "iso2": "kg",
        "iso3": "kon",
        "name": "Kongo",
        "nllb_code": "kon_Latn",
        "script": "Latn"
    },
    "lub": {
        "iso2": "lu",
        "iso3": "lub",
        "name": "Luba-Katanga",
        "nllb_code": "lub_Latn",
        "script": "Latn"
    },
    "swc": {
        "iso2": "swc",
        "iso3": "swc",
        "name": "Congo Swahili",
        "nllb_code": "swc_Latn",
        "script": "Latn"
    },
    
    # North African languages
    "ara": {
        "iso2": "ar",
        "iso3": "ara",
        "name": "Arabic",
        "nllb_code": "arb_Arab",
        "script": "Arab"
    },
    "ber": {
        "iso2": "ber",
        "iso3": "ber",
        "name": "Berber",
        "nllb_code": "ber_Latn",
        "script": "Latn"
    },
    "kab": {
        "iso2": "kab",
        "iso3": "kab",
        "name": "Kabyle",
        "nllb_code": "kab_Latn",
        "script": "Latn"
    },
    "shi": {
        "iso2": "shi",
        "iso3": "shi",
        "name": "Tachelhit",
        "nllb_code": "shi_Latn",
        "script": "Latn"
    },
    "tzm": {
        "iso2": "tzm",
        "iso3": "tzm",
        "name": "Central Atlas Tamazight",
        "nllb_code": "tzm_Tfng",
        "script": "Tfng"
    },
    "taq": {
        "iso2": "taq",
        "iso3": "taq",
        "name": "Tamasheq",
        "nllb_code": "taq_Latn",
        "script": "Latn"
    },
    
    # European languages commonly used in Africa
    "eng": {
        "iso2": "en",
        "iso3": "eng",
        "name": "English",
        "nllb_code": "eng_Latn",
        "script": "Latn"
    },
    "fra": {
        "iso2": "fr",
        "iso3": "fra",
        "name": "French",
        "nllb_code": "fra_Latn",
        "script": "Latn"
    },
    "por": {
        "iso2": "pt",
        "iso3": "por",
        "name": "Portuguese",
        "nllb_code": "por_Latn",
        "script": "Latn"
    },
    
    # Additional languages from your list that were missing
    "plt": {
        "iso2": "plt",
        "iso3": "plt",
        "name": "Malagasy",
        "nllb_code": "plt_Latn",
        "script": "Latn"
    }
}

def get_language_info(lang_code):
    """Get complete language information from any code (iso2, iso3, or name)"""
    # First try exact match
    for code, info in LANGUAGE_MAPPING.items():
        if lang_code.lower() in [code, info["iso2"], info["iso3"], info["name"].lower()]:
            return info
    
    # If not found, try to match the beginning of the name
    for code, info in LANGUAGE_MAPPING.items():
        if info["name"].lower().startswith(lang_code.lower()):
            return info
    
    # If still not found, return None
    return None

def get_nllb_code(lang_code):
    """Get NLLB language code from any code (iso2, iso3, or name)"""
    info = get_language_info(lang_code)
    if info:
        return info["nllb_code"]
    else:
        # Default to Latin script if not found
        return f"{lang_code}_Latn"

def get_iso3_code(lang_code):
    """Get ISO 639-3 code from any code (iso2, iso3, or name)"""
    info = get_language_info(lang_code)
    if info:
        return info["iso3"]
    else:
        return lang_code  # Return as-is if not found

def get_iso2_code(lang_code):
    """Get ISO 639-1 code from any code (iso2, iso3, or name)"""
    info = get_language_info(lang_code)
    if info:
        return info["iso2"]
    else:
        # Fallback: try to use the first two characters if it's a 3-letter code
        if len(lang_code) == 3:
            return lang_code[:2]
        return lang_code  # Return as-is if not found

def get_language_name(lang_code):
    """Get language name from any code (iso2, iso3, or name)"""
    info = get_language_info(lang_code)
    if info:
        return info["name"]
    else:
        return lang_code  # Return as-is if not found
